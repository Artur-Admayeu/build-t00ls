apply plugin: 'java'
apply plugin: 'eclipse'

version = '1.0'

task buildcustom ( type: Jar) {
  manifest {
        attributes 'Implementation-Title': 'Gradle Jar File Example',  
          'Implementation-Version': version,
          'Main-Class': 'com.test.Project'
    }
    baseName = "hw3-app"
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

task testcustom ( type: Test, dependsOn: buildcustom) {
        useJUnit()
        testLogging {
        events "started", "passed", "skipped", "failed"
    }
}


task hello (type: JavaExec, dependsOn: testcustom) {
    group = "Execution"
    description = "Run the main class with JavaExecTask"
    classpath = sourceSets.main.runtimeClasspath
    main = 'com.test.Project'
}
